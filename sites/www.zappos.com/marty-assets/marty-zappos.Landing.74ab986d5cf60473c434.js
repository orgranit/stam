(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{1032:function(e,t,a){e.exports={pageWrap:"l-z",heading:"m-z",screenReadersOnly:"n-z"}},1063:function(e,t,a){"use strict";a.r(t),a.d(t,"Landing",(function(){return W}));var n=a(54),o=a.n(n),r=a(36),i=a.n(r),s=a(0),c=a.n(s),g=a(10),d=a.n(g),l=a(28),p=a(388),u=a.n(p),m=a(29),h=a.n(m),v=a(509),f=a(267),P=a(241),E=a(387),k=a(136),H=a(148),I=a(386),C=a(92),b=a(77),N=a(263),y=a(515),D=a(13),L=a(9),w=a(6),A=a(3),O=a(62),T=a(142),M=a(69),R=a(84),_=a(46),S=a(1032),j=a.n(S),x=L.shortName,U=L.homepage,V=L.hasHearting,z=L.features.showAccountRewards,G=["genericBrandTrending","productSearch","recommender"],W=function(e){function t(t){var a;return(a=e.call(this,t)||this).getIpRestrictedInfo=function(){var e=a.props,t=e.landingPage,n=t.ipStatus,o=(n=void 0===n?{}:n).callCompleted,r=t.pageInfo,i=(r=void 0===r?{}:r).ipRestrictedContentPresent,s=void 0!==i&&i,c=e.getIpRestrictedStatus;s&&!o&&h.a.canUseDOM&&c()},a.makeAction=function(){var e=a.props,t=e.landingPage,n=e.isHomepage,o="Landing-"+t.pageInfo.subPageType+"-"+t.pageName;return n&&(o="Gateway-"+t.pageName),o},a.handleMonetateClick=function(e){var t=a.props.trackLegacyEvent,n=e.target;if(n.closest('[id^="monetate"]')){var o=n.closest("[data-eventlabel]").dataset,r=o.eventlabel,i=o.eventvalue;t(a.makeAction(),r,i)}},a.onComponentClick=a.onComponentClick.bind(o()(a)),a.trackPageView=a.trackPageView.bind(o()(a)),a.makePageHeading=a.makePageHeading.bind(o()(a)),a.getAllHeartCounts=a.getAllHeartCounts.bind(o()(a)),a}i()(t,e),t.fetchDataOnServer=function(e,t,a){var n=a.pageName;return e.dispatch(Object(I.h)(Object(R.a)(t.pathname)?U:n,t))};var a=t.prototype;return a.componentDidMount=function(){var e=this.props,t=e.track,a=e.location,n=void 0===a?{}:a,o=e.landingPage,r=o.pageName,i=o.pageInfo,s=void 0===i?{}:i,c=e.pageTypeChange,g=e.pushMicrosoftUetEvent,d=e.fetchAllRecommenderDataIfNecessary,l=e.params.pageName,p=e.sendIntentEvent,u=e.setupLandingEventWatcher,m=e.isHomepage,h=e.getHearts;(0,e.onEvent)(window,"click",this.handleMonetateClick,null,this);var v=s.slotData,P=n.query,E=void 0===P?{}:P,H=!r||l&&r!==l||m&&r!==U;c(m?"homepage":"landing"),H?this.fetchData(m?U:l):this.trackPageView(l),m&&(g(Object(k.d)()),p("view",{page_id:"frontdoor"})),d(v),h(),this.getAllHeartCounts(),E.utm_content&&E.utm_content.includes("postPurchaseSizing")&&t((function(){return[f.c,{query:E}]})),u(this),this.getIpRestrictedInfo()},a.componentDidUpdate=function(e){var t,a=this.props,n=a.params,o=a.landingPage,r=a.isHomepage,i=a.recommenderEntries,s=e.params.pageName,c=e.landingPage.pageInfo,g=e.recommenderEntries,d=n.pageName;s!==d&&(r?this.fetchData(U):o.pageName!==d&&this.fetchData(d)),g!==i&&this.getAllHeartCounts(),o.pageInfo&&(null==c?void 0:c.canonicalUrl)!==(null==o?void 0:null==(t=o.pageInfo)?void 0:t.canonicalUrl)&&(this.trackPageView(d,this.props),this.getIpRestrictedInfo())},a.getAllHeartCounts=function(){var e=this.props,t=e.getHeartCounts,a=e.recommenderEntries,n=e.landingPage.pageInfo,o=(n=void 0===n?{}:n).slotData,r=Object(T.c)(o,a);r.length&&t(r)},a.fetchData=function(e){(0,this.props.loadLandingPage)(e,window.location)},a.trackPageView=function(e,t){void 0===t&&(t=this.props);var a=t,n=a.firePixelServer,o=a.trackEvent,r=a.track,i=a.isHomepage,s=a.landingPage.pageInfo;i?(o("TE_PV_HOMEPAGE"),n("home")):(o("TE_PV_LANDINGPAGE"),n("landing",{},e)),Object(w.c)();var c=s?s.slotData:null;i&&c?r((function(){return[f.e,{slotData:c}]})):c&&r((function(){return[f.f,{pageName:e,slotData:c}]}))},a.makePageHeading=function(){var e=this.props,t=e.landingPage.pageInfo.pageHeading;return e.isHomepage?c.a.createElement("h1",{className:j.a.screenReadersOnly,"data-test-id":this.context.testId("heading")},x+" Homepage"):t?c.a.createElement("h1",{className:j.a.heading,"data-test-id":this.context.testId("heading"),dangerouslySetInnerHTML:{__html:u.a.sanitize(t)}}):void 0},a.onComponentClick=function(e){var t=this.props,a=t.trackLegacyEvent,n=t.toggleEasyFlowModal,o=e.currentTarget,r=this.makeAction(),i=Object(D.x)(o.getAttribute("data-eventlabel")),s=Object(D.x)(o.getAttribute("data-eventvalue"));o.pathname===C.c&&(e.preventDefault(),n(!0)),e.stopPropagation(),a(r,i,s)},a.render=function(){var e=this.props,t=e.landingPage,a=t.isLoaded,n=t.pageInfo,o=t.pageName,r=t.slotOrder,i=e.isCustomer,s=e.heartProduct,g=e.hearts,d=e.products,l=e.toggleHeartingLoginModal,p=e.trackEvent,u=e.unHeartProduct,m=e.ipStatus,h=e.slotContentTypesList;if(!a)return c.a.createElement(b.b,null);var f={hasHearting:V,isCustomer:i,heartProduct:s,hearts:g,products:d,toggleHeartingLoginModal:l,trackEvent:p,unHeartProduct:u},P=Object(T.b)(f,{heartEventName:"TE_LANDING_PRODUCT_HEART",unHeartEventName:"TE_LANDING_PRODUCT_UNHEART"}),E=n.slotData,k=n.pageLayout,H=this.context.testId,I=this;return c.a.createElement(N.a,{loading:!a},c.a.createElement("div",{className:j.a.pageWrap,"data-test-id":H("landingPage"),"data-layout":k,"data-page-id":o},I.makePageHeading(),z&&c.a.createElement(y.a,{isPageModal:!0}),r.map((function(e,t){var a;return c.a.createElement(v.a,{key:e,slotName:e,slotIndex:t,data:E[e],pageName:o,onComponentClick:I.onComponentClick,slotHeartsData:G.includes(null==(a=E[e])?void 0:a.componentName)&&P,shouldLazyLoad:Object(O.h)(t),ipStatus:m,slotContentTypesList:h})}))))},t}(s.Component);W.defaultProps={trackEvent:A.e,trackLegacyEvent:A.f,track:w.d,setupLandingEventWatcher:O.g,onEvent:_.c},W.contextTypes={testId:d.a.func,marketplace:d.a.object},t.default=Object(l.b)((function(e,t){var a,n=!(!h.a.canUseDOM||!e.cookies["x-main"]);return{landingPage:e.landingPage,ipStatus:e.landingPage.ipStatus,isHomepage:Object(R.a)(t.location.pathname),hearts:null==(a=e.hearts)?void 0:a.heartsStyleIds,recommenderEntries:e.recos,isCustomer:n,products:e.products}}),{loadLandingPage:I.h,getIpRestrictedStatus:I.f,fetchAllRecommenderDataIfNecessary:I.a,firePixelServer:H.b,pageTypeChange:E.a,pushMicrosoftUetEvent:k.g,sendIntentEvent:P.a,getHeartCounts:M.i,getHearts:M.j,heartProduct:M.m,unHeartProduct:M.q,toggleEasyFlowModal:I.m,toggleHeartingLoginModal:M.p})(W)}}]);
//# sourceMappingURL=marty-zappos.Landing.74ab986d5cf60473c434.js.map